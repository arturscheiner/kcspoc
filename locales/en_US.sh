#!/bin/bash
# Locale: en_US (English - United States)

# --- General ---
MSG_USAGE="Usage"
MSG_COMMANDS="Commands"
MSG_CMD_CONFIG_DESC="Run interactive configuration wizard"
MSG_CMD_PULL_DESC="Download KCS chart (usage: pull [--version X.X.X])"
MSG_CMD_CHECK_DESC="Verify environment and prerequisites"
MSG_CMD_PREPARE_DESC="Run the installation preparation (requires config)"
MSG_CMD_HELP_DESC="Show this help message"
MSG_VERSION="Version"
MSG_AUTHOR="Author"
MSG_ERROR_CONFIG_NOT_FOUND="Error: Configuration not found. Please run 'kcspoc config' first."

# --- Helper UI ---
MSG_DEFAULT="Default"

# --- Config Command ---
MSG_CONFIG_WIZARD_TITLE="Configuration Wizard"
MSG_CONFIG_WIZARD_DESC="This wizard generates the ~/.kcspoc/config file."
MSG_CONFIG_LOADED="Loaded existing configuration."
MSG_CONFIG_SAVED="Configuração salva em"
MSG_CONFIG_NEXT_STEPS="Você agora pode executar 'kcspoc pull' ou 'kcspoc check'."

MSG_STEP_LANG="Preferred Language"
MSG_STEP_LANG_DESC="Select the interface language."
MSG_INPUT_LANG="Language (en_US, pt_BR, etc)"
MSG_LANG_AVAILABLE="Available"

MSG_STEP_NS="Kubernetes Namespace"
MSG_STEP_NS_DESC="Where KCS resources will be created."
MSG_INPUT_NS="Namespace"

MSG_STEP_DOMAIN="Base Domain"
MSG_STEP_DOMAIN_DESC="Domain for KCS console/services (e.g. kcs.lab)."
MSG_INPUT_DOMAIN="Domain"

MSG_STEP_REG="Registry Credentials"
MSG_STEP_REG_DESC="Access to KCS container images."
MSG_INPUT_REG_URL="Server URL"
MSG_INPUT_REG_USER="Username"
MSG_INPUT_REG_PASS="Password"
MSG_INPUT_REG_EMAIL="Email"

MSG_STEP_METALLB="MetalLB IP Range"
MSG_STEP_METALLB_DESC="Range for LoadBalancer (e.g. 172.16.0.10-172.16.0.20)"
MSG_INPUT_IP_RANGE="IP Range"

MSG_STEP_DEEP="Deep Node Inspection"
MSG_STEP_DEEP_DESC="Run privileged pods to check disk/headers?"
MSG_INPUT_DEEP="Enable Deep Check? (true/false)"

MSG_STEP_VERSION="KCS Version"
MSG_STEP_VERSION_DESC="Target version to install."
MSG_INPUT_VERSION="Version"

# --- Pull Command ---
MSG_PULL_TITLE="Pulling KCS Chart"
MSG_PULL_AUTH="Authenticating to Registry"
MSG_PULL_LOGIN_OK="Login Successful"
MSG_PULL_LOGIN_FAIL="Login Failed"
MSG_PULL_LOGIN_ERR="Error: Could not login to registry."
MSG_PULL_VER_SRC_FLAG="Version Source: Command Flag"
MSG_PULL_VER_SRC_CONFIG="Version Source: Config File"
MSG_PULL_VER_SRC_DEFAULT="Version Source: Default (latest)"
MSG_PULL_DOWNLOADING="Downloading KCS Chart..."
MSG_PULL_SUCCESS="Download successful."
MSG_PULL_EXTRACTING="Extracting"
MSG_PULL_EXTRACTED="Chart extracted to"
MSG_PULL_ERR_FILE="Error: Downloaded file not found!"
MSG_PULL_ERR_FAIL="Helm pull failed."

# --- Check Command ---
MSG_CHECK_TITLE="Environment Check"
MSG_CHECK_TOOLS="Checking CLI tools..."
MSG_CHECK_TOOLS_FAIL="Missing required tools"
MSG_CHECK_CONFIG="Checking Configuration..."
MSG_CHECK_CONFIG_FAIL="FAIL (Missing variables in config)"
MSG_CHECK_CONFIG_FIX="Run 'kcspoc config' to fix this."
MSG_CHECK_CONFIG_CREATE="Run 'kcspoc config' to create it."
MSG_CHECK_CONN="Checking Cluster Connectivity..."
MSG_CHECK_CTX="Target Cluster Context"
MSG_CHECK_CTX_DESC="The KCS installation will target this cluster."
MSG_CHECK_VERIFY_CONN="Verifying connectivity..."
MSG_CHECK_CONN_FAIL="Could not connect to Kubernetes cluster"
MSG_CHECK_RESOURCES_TITLE="=== Cluster Resources & Topology ==="
MSG_CHECK_K8S_VER="Checking Kubernetes Version..."
MSG_CHECK_PASS="Pass"
MSG_CHECK_FAIL="FAIL"
MSG_CHECK_ARCH="Checking Architecture..."
MSG_CHECK_ARCH_MIXED="Mixed Architectures detected"
MSG_CHECK_ARCH_WARN="Warning: Core only supports amd64"
MSG_CHECK_ARCH_NONE="No amd64 nodes found"
MSG_CHECK_RUNTIME="Checking Container Runtime..."
MSG_CHECK_RUNTIME_WARN="Warning: Deprecated"
MSG_CHECK_CNI="Checking CNI Plugin..."
MSG_CHECK_CNI_DETECTED="Detected"
MSG_CHECK_CNI_WARN="Warning: No common CNI pods detected."
MSG_CHECK_NODE_RES_TITLE="Node Resources (CPU / RAM / Disk / Kernel Headers / eBPF):"
MSG_CHECK_DEEP_RUN="Running Deep Node Inspection (Privileged Pods)..."
MSG_CHECK_DEEP_SKIP="(Deep Check Disabled: Basic info only)"
MSG_CHECK_REPO_CONN="Checking Repo Connectivity"
MSG_CHECK_GLOBAL_TOTALS="Global Cluster Totals"
MSG_CHECK_ALL_PASS="All checks passed."
MSG_CHECK_ALL_PASS="All checks passed."
MSG_CHECK_FINAL_FAIL="Checks failed. Please address the issues above."

MSG_CHECK_CLOUD_TITLE="Cloud Provider & Topology"
MSG_CHECK_CLOUD_PROVIDER="Provider"
MSG_CHECK_CLOUD_REGION="Region"
MSG_CHECK_CLOUD_ZONE="Zone"
MSG_CHECK_CLOUD_OS="OS Image"
MSG_CHECK_CLOUD_UNKNOWN="Unknown / Bare Metal"

# Status Markers
MSG_CHECK_LABEL_PASS="[ PASS ]"
MSG_CHECK_LABEL_FAIL="[ FAIL ]"
MSG_CHECK_LABEL_WARN="[ WARN ]"
MSG_CHECK_LABEL_WARN="[ WARN ]"
MSG_CHECK_LABEL_INFO="[ INFO ]"

# Audit Checks
MSG_AUDIT_TITLE="Resource Compliance Audit"
MSG_AUDIT_REF_TABLE="Reference Table (Per Node)"
MSG_AUDIT_RES="Resource"
MSG_AUDIT_MIN="Min POC"
MSG_AUDIT_IDEAL="Ideal (High Perf)"
MSG_AUDIT_CPU="CPU (vCPUs)"
MSG_AUDIT_RAM="Memory RAM"
MSG_AUDIT_DISK="Disk (Ephemeral)"
MSG_AUDIT_NODE_EVAL="Node Evaluation"
MSG_AUDIT_FAIL_CPU="Insufficient CPU: Has %s vCPU(s), needed %s."
MSG_AUDIT_FAIL_RAM="Insufficient RAM: Has %s MiB, needed %s MiB."
MSG_AUDIT_FAIL_DISK="Insufficient Disk: Has %s GiB, needed %s GiB."
MSG_AUDIT_CAUSE_CPU="Cause: Critical slowness and partial scan failures."
MSG_AUDIT_CAUSE_RAM="Cause: Risk of OOMKill (Out of Memory) in DBs."
MSG_AUDIT_CAUSE_DISK="Cause: Vulnerability databases won't unpack (Scanner Offline)."
MSG_AUDIT_APPROVED="[ STATUS: APPROVED ]"
MSG_AUDIT_REJECTED="[ STATUS: REJECTED ]"
MSG_AUDIT_SUCCESS="SUCCESS: Environment compliant with POC requirements."
MSG_AUDIT_FAIL="FAIL: Environment does not meet minimum requirements."
MSG_AUDIT_REC="Recommendation: Adjust VM resources before installation."

# --- Prepare Command ---
MSG_PREPARE_START="Starting Preparation..."
MSG_PREPARE_USING_NS="Using Namespace"
MSG_PREPARE_USING_REG="Using Registry"
MSG_PREPARE_USING_DOMAIN="Using Domain"
MSG_PREPARE_USING_IP="Using IP Range"
MSG_PREPARE_STEP_1="Configuring Namespace and Registry Auth..."
MSG_PREPARE_CREATING_SECRET="Creating registry secret..."
MSG_PREPARE_STEP_2="Installing Infrastructure Dependencies..."
MSG_PREPARE_INSTALL_CERT="Installing Cert-Manager..."
MSG_PREPARE_INSTALL_LOCAL="Installing Local Path Provisioner..."
MSG_PREPARE_INSTALL_METRICS="Installing Metrics Server..."
MSG_PREPARE_STEP_3="Configuring MetalLB..."
MSG_PREPARE_STEP_4="Installing Ingress-Nginx..."
MSG_PREPARE_STEP_5="Installing Kernel Headers..."
MSG_PREPARE_SUDO_FAIL="sudo not found, skipping kernel headers install."
MSG_PREPARE_STEP_6="Final Verification..."
MSG_PREPARE_COMPLETED="Setup Completed!"
MSG_PREPARE_INGRESS_IP="Ingress IP"
MSG_PREPARE_HOSTS_HINT="Add this to your /etc/hosts"
