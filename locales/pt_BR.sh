#!/bin/bash
# Locale: pt_BR (Portuguese - Brazil)

# --- General ---
MSG_USAGE="Uso"
MSG_COMMANDS="Comandos"
MSG_CMD_CONFIG_DESC="Executar assistente de configuração interativo"
MSG_CMD_PULL_DESC="Baixar chart do KCS (uso: pull [--version X.X.X])"
MSG_CMD_CHECK_DESC="Verificar ambiente e pré-requisitos"
MSG_CMD_PREPARE_DESC="Executar preparação da instalação (requer config)"
MSG_CMD_HELP_DESC="Mostrar esta mensagem de ajuda"
MSG_VERSION="Versão"
MSG_AUTHOR="Autor"
MSG_ERROR_CONFIG_NOT_FOUND="Erro: Configuração não encontrada. Por favor execute 'kcspoc config' primeiro."

# --- Helper UI ---
MSG_DEFAULT="Padrão"

# --- Config Command ---
MSG_CONFIG_WIZARD_TITLE="Assistente de Configuração"
MSG_CONFIG_WIZARD_DESC="Este assistente gera o arquivo ~/.kcspoc/config."
MSG_CONFIG_LOADED="Configuração existente carregada."
MSG_CONFIG_SAVED="Configuração salva em"
MSG_CONFIG_NEXT_STEPS="Você agora pode executar 'kcspoc pull' ou 'kcspoc check'."

MSG_STEP_LANG="Idioma Preferido"
MSG_STEP_LANG_DESC="Selecione o idioma da interface."
MSG_INPUT_LANG="Idioma (en_US, pt_BR, etc)"
MSG_LANG_AVAILABLE="Disponível"

MSG_STEP_NS="Namespace Kubernetes"
MSG_STEP_NS_DESC="Onde os recursos do KCS serão criados."
MSG_INPUT_NS="Namespace"

MSG_STEP_DOMAIN="Domínio Base"
MSG_STEP_DOMAIN_DESC="Domínio para console/serviços KCS (ex: kcs.lab)."
MSG_INPUT_DOMAIN="Domínio"

MSG_STEP_REG="Credenciais do Registro"
MSG_STEP_REG_DESC="Acesso às imagens de container do KCS."
MSG_INPUT_REG_URL="URL do Servidor"
MSG_INPUT_REG_USER="Usuário"
MSG_INPUT_REG_PASS="Senha"
MSG_INPUT_REG_EMAIL="Email"

MSG_STEP_METALLB="Intervalo de IP MetalLB"
MSG_STEP_METALLB_DESC="Intervalo para LoadBalancer (ex: 172.16.0.10-172.16.0.20)"
MSG_INPUT_IP_RANGE="Intervalo de IP"

MSG_STEP_DEEP="Inspeção Profunda de Nó"
MSG_STEP_DEEP_DESC="Executar pods privilegiados para verificar disco/headers?"
MSG_INPUT_DEEP="Habilitar Inspeção Profunda? (true/false)"

MSG_STEP_VERSION="Versão do KCS"
MSG_STEP_VERSION_DESC="Versão alvo para instalação."
MSG_INPUT_VERSION="Versão"

# --- Pull Command ---
MSG_PULL_TITLE="Baixando Chart do KCS"
MSG_PULL_AUTH="Autenticando no Registro"
MSG_PULL_LOGIN_OK="Login com Sucesso"
MSG_PULL_LOGIN_FAIL="Falha no Login"
MSG_PULL_LOGIN_ERR="Erro: Não foi possível logar no registro."
MSG_PULL_VER_SRC_FLAG="Fonte da Versão: Flag de Comando"
MSG_PULL_VER_SRC_CONFIG="Fonte da Versão: Arquivo de Config"
MSG_PULL_VER_SRC_DEFAULT="Fonte da Versão: Padrão (latest)"
MSG_PULL_DOWNLOADING="Baixando Chart do KCS..."
MSG_PULL_SUCCESS="Download com sucesso."
MSG_PULL_EXTRACTING="Extraindo"
MSG_PULL_EXTRACTED="Chart extraído para"
MSG_PULL_ERR_FILE="Erro: Arquivo baixado não encontrado!"
MSG_PULL_ERR_FAIL="Helm pull falhou."

# --- Check Command ---
MSG_CHECK_TITLE="Verificação de Ambiente"
MSG_CHECK_TOOLS="Verificando ferramentas CLI..."
MSG_CHECK_TOOLS_FAIL="Ferramentas obrigatórias ausentes"
MSG_CHECK_CONFIG="Verificando Configuração..."
MSG_CHECK_CONFIG_FAIL="FALHA (Variáveis ausentes na config)"
MSG_CHECK_CONFIG_FIX="Execute 'kcspoc config' para corrigir."
MSG_CHECK_CONFIG_CREATE="Execute 'kcspoc config' para criá-lo."
MSG_CHECK_CONN="Verificando Conectividade do Cluster..."
MSG_CHECK_CTX="Contexto do Cluster Alvo"
MSG_CHECK_CTX_DESC="A instalação do KCS será neste cluster."
MSG_CHECK_VERIFY_CONN="Verificando conectividade..."
MSG_CHECK_CONN_FAIL="Não foi possível conectar ao cluster Kubernetes"
MSG_CHECK_RESOURCES_TITLE="=== Recursos & Topologia do Cluster ==="
MSG_CHECK_K8S_VER="Verificando Versão do Kubernetes..."
MSG_CHECK_PASS="Passou"
MSG_CHECK_FAIL="FALHA"
MSG_CHECK_ARCH="Verificando Arquitetura..."
MSG_CHECK_ARCH_MIXED="Arquiteturas Mistas detectadas"
MSG_CHECK_ARCH_WARN="Aviso: Core suporta apenas amd64"
MSG_CHECK_ARCH_NONE="Nenhum nó amd64 encontrado"
MSG_CHECK_RUNTIME="Verificando Container Runtime..."
MSG_CHECK_RUNTIME_WARN="Aviso: Obsoleto"
MSG_CHECK_CNI="Verificando Plugin CNI..."
MSG_CHECK_CNI_DETECTED="Detectado"
MSG_CHECK_CNI_WARN="Aviso: Nenhum pod CNI comum detectado."
MSG_CHECK_NODE_RES_TITLE="Recursos do Nó (CPU / RAM / Disco / Kernel Headers / eBPF):"
MSG_CHECK_DEEP_RUN="Executando Inspeção Profunda (Pods Privilegiados)..."
MSG_CHECK_DEEP_SKIP="(Inspeção Profunda Desabilitada: Info básica apenas)"
MSG_CHECK_REPO_CONN="Verificando Conectividade com Repositório"
MSG_CHECK_GLOBAL_TOTALS="Totais Globais do Cluster"
MSG_CHECK_ALL_PASS="Todas as verificações passaram."
MSG_CHECK_FINAL_FAIL="Verificações falharam. Por favor corrija os problemas acima."

MSG_CHECK_CLOUD_TITLE="Provedor de Nuvem & Topologia"
MSG_CHECK_CLOUD_PROVIDER="Provedor"
MSG_CHECK_CLOUD_REGION="Região"
MSG_CHECK_CLOUD_ZONE="Zona"
MSG_CHECK_CLOUD_OS="Imagem do SO"
MSG_CHECK_CLOUD_UNKNOWN="Desconhecido / Bare Metal"

# Status Markers
MSG_CHECK_LABEL_PASS="[ PASS ]"
MSG_CHECK_LABEL_FAIL="[ FALHA ]"
MSG_CHECK_LABEL_WARN="[ AVISO ]"
MSG_CHECK_LABEL_INFO="[ INFO ]"

# Audit Checks
MSG_AUDIT_TITLE="Auditoria de Aderência"
MSG_AUDIT_REF_TABLE="Tabela de Referência (Por Nó)"
MSG_AUDIT_RES="Recurso"
MSG_AUDIT_MIN="Mínimo POC"
MSG_AUDIT_IDEAL="Ideal (High Perf)"
MSG_AUDIT_CPU="CPU (vCPUs)"
MSG_AUDIT_RAM="Memória RAM"
MSG_AUDIT_DISK="Disco (Ephemeral)"
MSG_AUDIT_NODE_EVAL="Avaliação do Nó"
MSG_AUDIT_FAIL_CPU="CPU Insuficiente: Possui %s vCPU(s), necessário %s."
MSG_AUDIT_FAIL_RAM="RAM Insuficiente: Possui %s MiB, necessário %s MiB."
MSG_AUDIT_FAIL_DISK="Disco Insuficiente: Possui %s GiB, necessário %s GiB."
MSG_AUDIT_CAUSE_CPU="Causa: Lentidão crítica na console e falha em scans concorrentes."
MSG_AUDIT_CAUSE_RAM="Causa: Risco de OOMKill (Out of Memory) nos bancos Postgres/Clickhouse."
MSG_AUDIT_CAUSE_DISK="Causa: Bases de vulnerabilidades não serão descompactadas (Scanner Offline)."
MSG_AUDIT_APPROVED="[ STATUS: APROVADO ]"
MSG_AUDIT_REJECTED="[ STATUS: REPROVADO ]"
MSG_AUDIT_SUCCESS="SUCESSO: O ambiente está aderente aos requisitos de POC."
MSG_AUDIT_FAIL="FALHA: O ambiente não atende aos requisitos mínimos em um ou mais nós."
MSG_AUDIT_REC="Recomendação: Ajuste os recursos das máquinas virtuais/instâncias."

# --- Prepare Command ---
MSG_PREPARE_START="Iniciando Preparação..."
MSG_PREPARE_USING_NS="Usando Namespace"
MSG_PREPARE_USING_REG="Usando Registro"
MSG_PREPARE_USING_DOMAIN="Usando Domínio"
MSG_PREPARE_USING_IP="Usando Intervalo IP"
MSG_PREPARE_STEP_1="Configurando Namespace e Auth do Registro..."
MSG_PREPARE_CREATING_SECRET="Criando secret do registro..."
MSG_PREPARE_STEP_2="Instalando Dependências de Infraestrutura..."
MSG_PREPARE_INSTALL_CERT="Instalando Cert-Manager..."
MSG_PREPARE_INSTALL_LOCAL="Instalando Local Path Provisioner..."
MSG_PREPARE_INSTALL_METRICS="Instalando Metrics Server..."
MSG_PREPARE_STEP_3="Configurando MetalLB..."
MSG_PREPARE_STEP_4="Instalando Ingress-Nginx..."
MSG_PREPARE_STEP_5="Instalando Kernel Headers..."
MSG_PREPARE_SUDO_FAIL="sudo não encontrado, pulando instalação de headers."
MSG_PREPARE_STEP_6="Verificação Final..."
MSG_PREPARE_COMPLETED="Configuração Concluída!"
MSG_PREPARE_INGRESS_IP="IP do Ingress"
MSG_PREPARE_HOSTS_HINT="Adicione isto ao seu /etc/hosts"

# --- Destroy Command ---
MSG_DESTROY_TITLE="Remoção do KCS (Limpeza Profunda)"
MSG_DESTROY_WARN_TITLE="ATENÇÃO: OPERAÇÃO DESTRUTIVA"
MSG_DESTROY_WARN_DESC="Isso removerá completamente o Kaspersky Container Security, incluindo bancos de dados e logs."
MSG_DESTROY_CONFIRM_PHRASE="eu quero remover o kcs do meu cluster %s"
MSG_DESTROY_PROMPT="Por favor digite a frase acima para confirmar:"
MSG_DESTROY_CANCEL="Operação cancelada. Frase de confirmação incorreta."
MSG_DESTROY_START="Iniciando Remoção do KCS..."
MSG_DESTROY_STEP_1="Removendo Helm Release..."
MSG_DESTROY_STEP_2="Removendo Namespace..."
MSG_DESTROY_STEP_3="Limpando PVCs Residuais..."
MSG_DESTROY_STEP_4="Limpando PVs Órfãos..."
MSG_DESTROY_STEP_5="Removendo Webhooks Globais..."
MSG_DESTROY_REMOVED="Removido"
MSG_DESTROY_NOT_FOUND="Não Encontrado (Pulado)"
MSG_DESTROY_SUCCESS="O KCS foi completamente removido do cluster."
MSG_DESTROY_HINT="Dependências (MetalLB, Cert-Manager) foram preservadas."
